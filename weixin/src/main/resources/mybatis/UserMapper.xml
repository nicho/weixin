<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须指向Dao接口 -->
<mapper namespace="com.gamewin.weixin.mybatis.UserMybatisDao">
	<resultMap id="userMap" type="User">
		<id property="id" column="id" />
		<result property="loginName" column="login_Name" /> 
		<result property="name" column="name" /> 
		<result property="roles" column="roles" /> 
		<result property="registerDate" column="register_Date" /> 
		<result property="status" column="status" /> 
		<result property="manageAddress" column="manage_Address" /> 
		<result property="loginName" column="login_Name" />  
		
		 <association property="upuser" column="upuser_id" javaType="User">
			<id property="id" column="upuser_user_id" />
			<result property="loginName" column="upuser_login_Name" /> 
		</association>
	</resultMap>

	<!-- 获取部门详细信息, 输出用resultMap关联嵌套对象 -->
	<select id="getUserList" parameterType="long" resultMap="userMap">
		select u.*,m.id as upuser_user_id,m.login_Name as upuser_login_Name  from wx_user u ,wx_user m where u.upuser_id=m.id and u.isdelete=0
	</select>
</mapper> 
